<form class="landing-editor" ref="form">
    <button class="elgg-button elgg-button-action" type="button" @click="addHTMLBlock">Add HTML Block</button>

    <draggable v-model="blocks" :options="draggableOptions">
        <div class="landing-editor__block"
             v-for="(block, index) in blocks"
             :key="index"
        >
            <ul class="landing-editor__block-menu">
                <li>
                    <elgg-icon name="arrows-alt" class="landing-editor__block-drag-handle"/>
                </li>
            </ul>

            <div class="landing-editor__block-menu" style="right: 0">
                <label>
                    <input
                        type="checkbox"
                        :name="'blocks[' + index + '][disabled]'"
                        v-model="block.disabled"
                        value="1" 
                    />
                    Disable Panel
                </label>
            </div>

            <component :is="resolveComponentName(block)"
                       :block="block"
                       :parentId="index"
                       @delete="deleteBlock(index)">
            </component>
        </div>
    </draggable>

    <div class="landing-editor__footer elgg-foot">
        <elgg-button
            role="submit"
            :text="echo('save')"
            @click="save"
            :loading="loading"
            :disabled="loading"
        ></elgg-button>
    </div>

</form>